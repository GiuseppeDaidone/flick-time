<!DOCTYPE html>
<html>

<head>
<title>New Movie</title>

<link rel="stylesheet" href="/css/stile.css" />
</head>

<body>
	<nav>
		<table><tr>
		<td class="logo">
			<div>
				<a href="/"><img src="/images/flicktime-logo2-long.png" width="20%" /></a>
			</div>
		</td>
		<td>
			<table class="nav-table"><tr>
				<div th:if="${userDetails}">
					<td><span th:text="${userDetails.username}" class="nav-username"></span></td>
					<td><button onclick="window.location.href='/logout';">Logout</button><td>
				</div>
			</tr></table>
		</td>
		<td>
			<div th:unless="${userDetails}">
				<button onclick="window.location.href='/login';" class="nav-button">Login</button>
			</div>
		</td>
		</tr></table>
  	</nav>
	
	<h1>Add a movie</h1>
	
	<form th:action="@{/admin/movie}" method="POST" th:object="${movie}" enctype="multipart/form-data" class="form-compiling">


		 <div th:if="${#fields.hasGlobalErrors()}">
        <p th:each="err : ${#fields.globalErrors()}" th:text="${err}">Error</p>
        
      </div>

     <div>
        <label>Title:</label> <span><input type="text" th:field="${movie.title}"/></span>
        
        <span th:if="${#fields.hasErrors('title')}" th:errors="*{title}"></span>
      </div>
		
	  <div>
        <label>Year:</label> <span><input type="text" th:field="${movie.year}"/></span>
        <span th:if="${#fields.hasErrors('year')}" th:errors="*{year}"></span>
                
      </div>
		
				
		 <div>
		<label>Picture (url):</label> 
		<input type="file" name="fileImage" id="fileImage" accept="image/png, image/jpeg , image/jpg" />
		</div>


		<div>
			<span><button type="submit">Confirm</button></span>
		</div>
	</form>
</body>

</html>